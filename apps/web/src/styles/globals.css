@import "@workspace/ui/globals.css";

/* Hide scrollbars for better tab scrolling */
.overflow-x-auto::-webkit-scrollbar {
  display: none;
}

.overflow-x-auto {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}


/* Beautiful page entrance animation */
.fade-in {
  animation: smoothPageEnter 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  opacity: 0;
  transform: translateY(40px) scale(0.95);
}

@keyframes smoothPageEnter {
  0% {
    opacity: 0;
    transform: translateY(40px) scale(0.95);
  }
  60% {
    opacity: 0.8;
    transform: translateY(10px) scale(0.98);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Individual page transitions with different effects */
/* .page-transition {
  animation: elegantPageTransition 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  opacity: 0;
  transform: translateY(30px) scale(0.96);
}

@keyframes elegantPageTransition {
  0% {
    opacity: 0;
    transform: translateY(30px) scale(0.96);
  }
  50% {
    opacity: 0.7;
    transform: translateY(8px) scale(0.99);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
} */

/* Enhanced loading bar with gradient animation */
.nav-loading {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 3px;
  background: linear-gradient(90deg, #f59e0b 0%, #ea580c 25%, #dc2626 50%, #ea580c 75%, #f59e0b 100%);
  background-size: 200% 100%;
  transform: scaleX(0);
  transform-origin: left;
  animation: loadingBarFlow 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  z-index: 9999;
  box-shadow: 0 0 10px rgba(245, 158, 11, 0.5);
}

@keyframes loadingBarFlow {
  0% {
    transform: scaleX(0);
    background-position: -200% 0;
  }
  70% {
    transform: scaleX(0.9);
    background-position: 200% 0;
  }
  100% {
    transform: scaleX(1);
    background-position: 200% 0;
    opacity: 0;
  }
}

/* Line clamp utilities for text truncation */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}

.line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
}

.line-clamp-3 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
}

/* Staggered content animation */
.content-stagger > * {
  animation: contentStagger 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  opacity: 0;
  transform: translateY(20px);
}

.content-stagger > *:nth-child(1) {
  animation-delay: 0.1s;
}
.content-stagger > *:nth-child(2) {
  animation-delay: 0.2s;
}
.content-stagger > *:nth-child(3) {
  animation-delay: 0.3s;
}
.content-stagger > *:nth-child(4) {
  animation-delay: 0.4s;
}
.content-stagger > *:nth-child(5) {
  animation-delay: 0.5s;
}

@keyframes contentStagger {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Smooth hover transitions for interactive elements */
.smooth-hover {
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.smooth-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
}

/* Enhanced button animations */
.btn-smooth {
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  position: relative;
  overflow: hidden;
}

.btn-smooth::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: left 0.5s;
}

.btn-smooth:hover::before {
  left: 100%;
}

.btn-smooth:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

/* Notion-like content styling for rich lesson content */
@layer components {
  .notion-content {
    @apply max-w-none;
    line-height: 1.6;
    color: rgb(55, 53, 47);
  }

  .notion-heading-1 {
    @apply text-3xl font-bold mb-4 mt-8 text-gray-900;
    line-height: 1.2;
  }

  .notion-heading-2 {
    @apply text-2xl font-semibold mb-3 mt-6 text-gray-900;
    line-height: 1.3;
  }

  .notion-heading-3 {
    @apply text-xl font-medium mb-2 mt-4 text-gray-900;
    line-height: 1.4;
  }

  .notion-paragraph {
    @apply mb-4 text-gray-700 leading-relaxed;
  }

  .notion-list {
    @apply mb-4 pl-6 space-y-1;
  }

  .notion-list li {
    @apply text-gray-700 leading-relaxed;
    list-style-type: disc;
  }

  .notion-callout {
    @apply p-4 rounded-lg mb-6 border-l-4;
    display: flex;
    align-items: flex-start;
    gap: 12px;
  }

  .notion-callout-info {
    @apply bg-blue-50 border-blue-400;
  }

  .notion-callout-success {
    @apply bg-green-50 border-green-400;
  }

  .notion-callout-warning {
    @apply bg-yellow-50 border-yellow-400;
  }

  .notion-callout-emoji {
    @apply text-lg flex-shrink-0;
    margin-top: 2px;
  }

  .notion-callout-text {
    @apply text-gray-700 leading-relaxed;
  }

  .notion-exercise {
    @apply bg-gray-50 p-6 rounded-lg mb-6 border border-gray-200;
  }

  .notion-exercise-item {
    @apply space-y-3 mt-4;
  }

  .notion-answer-box {
    @apply inline-block w-16 h-8 border-b-2 border-brand-primary mx-2;
  }

  .notion-number-line {
    @apply my-6 p-4 bg-white rounded-lg border border-gray-200;
  }

  .number-line-container {
    @apply flex justify-center;
  }

  .number-line {
    @apply flex items-center space-x-8 text-lg font-medium text-gray-700;
  }

  .number-line span {
    @apply w-8 h-8 flex items-center justify-center rounded-full bg-brand-primary text-white;
  }

  .notion-toggle {
    @apply mb-4 border border-gray-200 rounded-lg overflow-hidden;
  }

  .notion-toggle-title {
    @apply p-4 bg-gray-50 font-medium text-gray-900 cursor-pointer hover:bg-gray-100 transition-colors;
  }

  .notion-toggle-content {
    @apply p-4 bg-white;
  }

  .notion-columns {
    @apply grid md:grid-cols-3 gap-4 mb-6;
  }

  .notion-column {
    @apply flex-1;
  }

  .notion-card {
    @apply p-4 bg-white rounded-lg border border-gray-200 text-center hover:shadow-md transition-shadow;
  }

  .notion-card-icon {
    @apply text-2xl mb-2;
  }

  .notion-card-title {
    @apply font-semibold text-gray-900 mb-1;
  }

  .notion-card-content {
    @apply text-sm text-gray-600;
  }

  .notion-divider {
    @apply my-8 border-t border-gray-200;
  }

  .notion-checklist {
    @apply space-y-2 mb-6;
  }

  .notion-checklist-item {
    @apply flex items-center space-x-3;
  }

  .notion-checklist-item input[type="checkbox"] {
    @apply w-4 h-4 text-brand-primary border-gray-300 rounded focus:ring-brand-primary;
  }

  .notion-checklist-item span {
    @apply text-gray-700;
  }

  .notion-table {
    @apply mb-6 overflow-x-auto;
  }

  .notion-table table {
    @apply w-full border-collapse border border-gray-200 rounded-lg overflow-hidden;
  }

  .notion-table th {
    @apply bg-gray-50 p-3 text-left font-semibold text-gray-900 border-b border-gray-200;
  }

  .notion-table td {
    @apply p-3 text-gray-700 border-b border-gray-100;
  }

  .notion-table tr:last-child td {
    @apply border-b-0;
  }

  /* Dark mode support for notion content */
  .dark .notion-content {
    color: rgb(255, 255, 255);
  }

  .dark .notion-heading-1,
  .dark .notion-heading-2,
  .dark .notion-heading-3 {
    @apply text-white;
  }

  .dark .notion-paragraph,
  .dark .notion-list li {
    @apply text-gray-300;
  }

  .dark .notion-callout-info {
    @apply bg-blue-900/20 border-blue-400;
  }

  .dark .notion-callout-success {
    @apply bg-green-900/20 border-green-400;
  }

  .dark .notion-exercise {
    @apply bg-gray-800 border-gray-700;
  }

  .dark .notion-card {
    @apply bg-gray-800 border-gray-700;
  }

  .dark .notion-card-title {
    @apply text-white;
  }

  .dark .notion-card-content {
    @apply text-gray-400;
  }
}